<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Time Intervals Progress Bars</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      text-align: center;
      background-color: #f3f3f3;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 20px;
      color: #333;
    }

    .progress-bars {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      margin-top: 20px;
    }

    .progress-section {
      width: 48%; /* Adjusted width for left and right sections */
    }

    .progress-section.left {
      text-align: left;
    }

     /* .progress-section.right {
      text-align: right;
    } */
    .progress-section.right {
      text-align: right;
    }

    .progress-bar {
      width: 100%;
      height: 30px;
      border: 1px solid #000000;
      margin-bottom: 15px;
      position: relative;
      overflow: hidden;
      background-color: #ffffff;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .progress-fill {
      height: 100%;
      /* background-color: #f06666;  */
      width: 0; /* Initially set to 0% */ 
      position: absolute;
      border-radius: 5px;
      transition: width 0.1s ease-in-out; /*Added animation for smooth transition */
      background-image: linear-gradient(to right, #32ee5e 0%, #f7a40c 100%);
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 10px; /* Adjusted to align text to the left */
      transform: translateY(-50%);
      color: #000000;  /*change color of % inside the bar */
      font-size: 14px;
      font-weight: bold;
      visibility: visible;
    }

    .progress-info {
      text-align: left;
      margin-bottom: 10px;
      background-color: #fce9e9;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <h1>Time Intervals Progress Bars</h1>
  <div class="progress-info" id="progressInfo">
    <!-- Information about the current date and time -->
  </div>

  <div class="progress-bars">
    <div class="progress-section left">
      <h2> Timeframe</h2>
      <p>Minute Progress</p>
      <div class="progress-bar" id="minuteProgress">
        <div class="progress-fill" id="minuteProgressBar"></div>
        <div class="progress-text" id="minuteProgressText">0%</div>
      </div>

      <p>Hour Progress</p>
      <div class="progress-bar" id="hourProgress">
        <div class="progress-fill" id="hourProgressBar"></div>
        <div class="progress-text" id="hourProgressText">0%</div>
      </div>

      <p>Day Progress</p>
      <div class="progress-bar" id="dayProgress">
        <div class="progress-fill" id="dayProgressBar"></div>
        <div class="progress-text" id="dayProgressText">0%</div>
      </div>

      <p>Week Progress</p>
      <div class="progress-bar" id="weekProgress">
        <div class="progress-fill" id="weekProgressBar"></div>
        <div class="progress-text" id="weekProgressText">0%</div>
      </div>

      <p>Month Progress</p>
      <div class="progress-bar" id="monthProgress">
        <div class="progress-fill" id="monthProgressBar"></div>
        <div class="progress-text" id="monthProgressText">0%</div>
      </div>

      <p>Quarter Progress</p>
      <div class="progress-bar" id="quarterProgress">
        <div class="progress-fill" id="quarterProgressBar"></div>
        <div class="progress-text" id="quarterProgressText">0%</div>
      </div>

      <p>Half-Year Progress</p> 
      <div class="progress-bar" id="halfYearProgress">
        <div class="progress-fill" id="halfYearProgressBar"></div>
        <div class="progress-text" id="halfYearProgressText">0%</div>
      </div>

      <p>Year Progress</p>
      <div class="progress-bar" id="yearProgress">
        <div class="progress-fill" id="yearProgressBar"></div>
        <div class="progress-text" id="yearProgressText">0%</div>
      </div>
    </div>

  <div class="progress-section right">
    <h2>Time Remaining</h2>
    <p>Minute Remaining</p>
    <div class="progress-bar" id="minutesRemaining">
      <div class="progress-fill" id="minutesRemainingBar"></div>
      <div class="progress-text" id="minutesRemainingText">0 secs</div>
    </div>
  
    <p>Hour Remaining</p>
    <div class="progress-bar" id="hoursRemaining">
      <div class="progress-fill" id="hoursRemainingBar"></div>
      <div class="progress-text" id="hoursRemainingText">0 mins 0 secs</div>
    </div>
  
    <p>Day Remaining</p>
    <div class="progress-bar" id="daysRemaining">
      <div class="progress-fill" id="daysRemainingBar"></div>
      <div class="progress-text" id="daysRemainingText">0 hrs 0 mins 0 secs</div>
    </div>
  
    <p>Week Remaining</p>
    <div class="progress-bar" id="weeksDaysRemaining">
      <div class="progress-fill" id="weeksDaysRemainingBar"></div>
      <div class="progress-text" id="weeksDaysRemainingText">0 days 0 hrs</div>
    </div>
  
    <p>Month Remaining</p>
    <div class="progress-bar" id="monthsRemaining">
      <div class="progress-fill" id="monthsRemainingBar"></div>
      <div class="progress-text" id="monthsRemainingText">0 weeks 0 days 0 hrs</div>
    </div>
  
    <p>Quarter Remaining</p>
    <div class="progress-bar" id="quartersRemaining">
      <div class="progress-fill" id="quartersRemainingBar"></div>
      <div class="progress-text" id="quartersRemainingText">0 weeks 0 days 0 hrs</div>
    </div>
  
    <p>Half-Year Remaining</p>
    <div class="progress-bar" id="halfYearRemaining">
      <div class="progress-fill" id="halfYearRemainingBar"></div>
      <div class="progress-text" id="halfYearRemainingText">0 weeks 0 days 0 hrs</div>
    </div>

    <p>Year Remaining</p>
    <div class="progress-bar" id="yearsRemaining">
      <div class="progress-fill" id="yearsRemainingBar"></div>
      <div class="progress-text" id="yearsRemainingText">0 weeks 0 days 0 hrs</div>
    </div>
  </div>

  <script>
    function updateProgressBars() {
      const currentDate = new Date();

      const dateFormatOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long', hour: 'numeric', minute: 'numeric', second: 'numeric' };
      const formattedDate = currentDate.toLocaleDateString('en-US', dateFormatOptions);
      const week = Math.ceil((((currentDate - new Date(currentDate.getFullYear(), 0, 1)) / 86400000) + 1) / 7);

      document.getElementById('progressInfo').innerHTML = `
        <p>Current Date and Time: ${formattedDate}</p>
        <p>Day of the Week: ${currentDate.toLocaleDateString('en-US', { weekday: 'long' })}</p>
        <p>Week: ${week}</p>
        <p>Month: ${currentDate.toLocaleDateString('en-US', { month: 'long' })}</p>
        <p>Quarter: ${Math.ceil((currentDate.getMonth() + 1) / 3)}</p>
        <p>Half-Year Session: ${currentDate.getMonth() < 6 ? 1 : 2}</p>
        <p>Year: ${currentDate.getFullYear()}</p>
      `;

      const totalMillisecondsInDay = 24 * 60 * 60 * 1000;
      const elapsedMilliseconds = currentDate.getHours() * 60 * 60 * 1000 +
      currentDate.getMinutes() * 60 * 1000 +
      currentDate.getSeconds() * 1000 +
      currentDate.getMilliseconds();
      const dayProgress = (elapsedMilliseconds / totalMillisecondsInDay) * 100;

      const totalMillisecondsInWeek = 7 * totalMillisecondsInDay;
      const elapsedMillisecondsWeek = (currentDate.getDay() * totalMillisecondsInDay) + elapsedMilliseconds;
      const weekProgress = (elapsedMillisecondsWeek / totalMillisecondsInWeek) * 100;

      const totalDaysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();
      const elapsedDaysInMonth = currentDate.getDate();
      const elapsedMillisecondsInMonth = (elapsedDaysInMonth - 1) * totalMillisecondsInDay + elapsedMilliseconds;
      const monthProgress = (elapsedMillisecondsInMonth / (totalDaysInMonth * totalMillisecondsInDay)) * 100;

      // Quarter Progress
      const isLeapYear = (year) => (year % 400 === 0) || (year % 4 === 0 && year % 100 !== 0);
      const currentYear = currentDate.getFullYear();

      const currentMonth = currentDate.getMonth();
      const quarterStartMonth = Math.floor(currentMonth / 3) * 3;
      const startOfQuarter = new Date(currentDate.getFullYear(), quarterStartMonth, 1);
      const endOfQuarter = new Date(currentDate.getFullYear(), quarterStartMonth + 3, 0);

      const quarterDaysInYear = isLeapYear(currentYear) ? [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] : [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      const totalDaysInQuarter = quarterDaysInYear.slice(quarterStartMonth, quarterStartMonth + 3).reduce((acc, val) => acc + val, 0);
      const totalMillisecondsInQuarter = totalDaysInQuarter * 24 * 60 * 60 * 1000;

      const elapsedMillisecondsInQuarter = currentDate - startOfQuarter;
      const quarterProgress = (elapsedMillisecondsInQuarter / totalMillisecondsInQuarter) * 100;

      // Half-Year Progress

      const halfYearStart = new Date(currentYear, 0, 1); // January 1st of the current year
      const halfYearMiddle = new Date(currentYear, 5, 30); // June 30th of the current year

      let totalMillisecondsInHalfYear = halfYearMiddle - halfYearStart;
      const elapsedMillisecondsInHalfYear = currentDate - halfYearStart;
      const isCurrentYearLeap = isLeapYear(currentYear);

      // For leap years, add an extra day to the second half of the year
      if (isCurrentYearLeap && currentDate <= halfYearMiddle) {
        totalMillisecondsInHalfYear += 24 * 60 * 60 * 1000; // Add one day in milliseconds
      }

      const halfYearProgress = (elapsedMillisecondsInHalfYear / totalMillisecondsInHalfYear) * 100;

      // Year Progress
     
      const totalDaysInYear = isLeapYear(currentDate.getFullYear()) ? 366 : 365;
      const totalMillisecondsInYear = totalDaysInYear * 24 * 60 * 60 * 1000;
      const elapsedMillisecondsInYear = currentDate - new Date(currentDate.getFullYear(), 0, 1);
      const yearProgress = (elapsedMillisecondsInYear / totalMillisecondsInYear) * 100;

      // Hour Progress
      const totalMillisecondsInHour = 60 * 60 * 1000;
      const elapsedMillisecondsInHour = currentDate.getMinutes() * 60 * 1000 +
      currentDate.getSeconds() * 1000 +
      currentDate.getMilliseconds();
      const hourProgress = (elapsedMillisecondsInHour / totalMillisecondsInHour) * 100;

      // Minute Progress
      const totalMillisecondsInMinute = 60 * 1000;
      const elapsedMillisecondsInMinute = currentDate.getSeconds() * 1000 +
      currentDate.getMilliseconds();
      const minuteProgress = (elapsedMillisecondsInMinute / totalMillisecondsInMinute) * 100;

      document.getElementById('hourProgressBar').style.width = `${hourProgress.toFixed(4)}%`;
      document.getElementById('hourProgressText').textContent = `${hourProgress.toFixed(4)}%`;

      document.getElementById('minuteProgressBar').style.width = `${minuteProgress.toFixed(4)}%`;
      document.getElementById('minuteProgressText').textContent = `${minuteProgress.toFixed(4)}%`;

      document.getElementById('dayProgressBar').style.width = `${dayProgress.toFixed(4)}%`;
      document.getElementById('dayProgressText').textContent = `${dayProgress.toFixed(4)}%`;

      document.getElementById('weekProgressBar').style.width = `${weekProgress.toFixed(4)}%`;
      document.getElementById('weekProgressText').textContent = `${weekProgress.toFixed(4)}%`;

      document.getElementById('monthProgressBar').style.width = `${monthProgress.toFixed(6)}%`;
      document.getElementById('monthProgressText').textContent = `${monthProgress.toFixed(6)}%`;

      document.getElementById('quarterProgressBar').style.width = `${quarterProgress.toFixed(6)}%`;
      document.getElementById('quarterProgressText').textContent = `${quarterProgress.toFixed(6)}%`;

      document.getElementById('halfYearProgressBar').style.width = `${halfYearProgress.toFixed(6)}%`;
      document.getElementById('halfYearProgressText').textContent = `${halfYearProgress.toFixed(6)}%`;

      document.getElementById('yearProgressBar').style.width = `${yearProgress.toFixed(4)}%`;
      document.getElementById('yearProgressText').textContent = `${yearProgress.toFixed(4)}%`;


    const totalMillisecondsInMinute1 = 60 * 1000;
    const remainingSecondsInMinute = Math.floor((totalMillisecondsInMinute1 - (currentDate.getSeconds() * 1000 + currentDate.getMilliseconds())) / 1000);
    const minuteProgressRemaining = (remainingSecondsInMinute / 60) * 100;

    const totalMillisecondsInHour1 = 60 * 60 * 1000;
    const remainingMinutesInHour = Math.floor((totalMillisecondsInHour1 - (currentDate.getMinutes() * 60 * 1000 + currentDate.getSeconds() * 1000 + currentDate.getMilliseconds())) / (60 * 1000));
    const hourProgressRemaining = (remainingMinutesInHour / 60) * 100;

    const totalMillisecondsInDay1 = 24 * 60 * 60 * 1000;
    const remainingHoursInDay = Math.floor((totalMillisecondsInDay1 - (currentDate.getHours() * 60 * 60 * 1000 + currentDate.getMinutes() * 60 * 1000 + currentDate.getSeconds() * 1000 + currentDate.getMilliseconds())) / (60 * 60 * 1000));
    const dayProgressRemaining = (remainingHoursInDay / 24) * 100;

    const totalMillisecondsInWeek1 = 7 * totalMillisecondsInDay1;
    const remainingDaysInWeek = Math.floor((totalMillisecondsInWeek1 - ((currentDate.getDay() * totalMillisecondsInDay1) + (currentDate.getHours() * 60 * 60 * 1000) + (currentDate.getMinutes() * 60 * 1000) + (currentDate.getSeconds() * 1000) + currentDate.getMilliseconds())) / (24 * 60 * 60 * 1000));
    const weekProgressRemaining = (remainingDaysInWeek / 7) * 100;

    // Update the progress bars with remaining time
    // document.getElementById('minutesRemainingBar').style.width = `${minuteProgressRemaining.toFixed(4)}%`;
    document.getElementById('minutesRemainingBar').style.width = `${100 - minuteProgress.toFixed(4)}%`;
    document.getElementById('minutesRemainingText').textContent = `${remainingSecondsInMinute} secs`;
 
    document.getElementById('hoursRemainingBar').style.width = `${100 - hourProgress.toFixed(4)}%`;
    document.getElementById('hoursRemainingText').textContent = `${remainingMinutesInHour} mins ${remainingSecondsInMinute} secs`;
    
    document.getElementById('daysRemainingBar').style.width = `${100 - dayProgress.toFixed(4)}%`;
    document.getElementById('daysRemainingText').textContent = `${remainingHoursInDay} hrs ${remainingMinutesInHour} mins ${remainingSecondsInMinute} secs`;

    document.getElementById('weeksDaysRemainingBar').style.width = `${100 - weekProgress.toFixed(4)}%`;
    document.getElementById('weeksDaysRemainingText').textContent = `${remainingDaysInWeek} days ${remainingHoursInDay} hrs`;
    
    //testing part  
    const remainingDaysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate() - currentDate.getDate();
    const monthProgressRemaining = ((remainingDaysInMonth / new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate()) * 100).toFixed(4);
    
    document.getElementById('monthsRemainingBar').style.width = `${monthProgressRemaining}%`;
    document.getElementById('monthsRemainingText').textContent = `${remainingDaysInMonth} days`;
    //testing part
    }

    function getWeekNumber(date) {
      const weekNumber = Math.ceil((((date - new Date(date.getFullYear(), 0, 1)) / 86400000) + 1) / 7);
      return weekNumber;
    }

    function getQuarter(date) {
      const quarter = Math.floor((date.getMonth() + 3) / 3);
      return quarter;
    }

    function getHalfYear(date) {
      const halfYear = date.getMonth() < 6 ? 1 : 2;
      return halfYear;
    }

    updateProgressBars();
    setInterval(updateProgressBars, 1);
    
  </script>
</body>
</html>